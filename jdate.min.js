function JDate(e,t,r,n,a,i,o){"use strict";if(this.gregorian=0,this.jalali=0,0===arguments.length)this.gregorian=new Date;else if(1===arguments.length){var s=JDate.parse(arguments[0]);if(!(s>0))throw"Cannot parse date string";this.gregorian=new Date(s)}else{if(r=r||1,new Date(e,t,r).getTime()>0)var l={year:e,month:t,date:r};else l=jalali_to_gregorian(e,t,r);this.gregorian=new Date(l.year,l.month,l.date,n,a,i,o)}this.setJalali()}JDate.prototype={getDate:function(){return this.jalali.date},getDay:function(){return 6==this.gregorian.getDay()?0:this.gregorian.getDay()+1},getFullYear:function(){return this.jalali.year},getShortYear:function(){return this.jalali.year>=1300&&this.jalali.year<1400?parseInt(this.jalali.year.toString().slice(2)):parseInt(this.jalali.year.toString().slice(1))},getHours:function(){return this.gregorian.getHours()},getMilliseconds:function(){return this.gregorian.getMilliseconds()},getMinutes:function(){return this.gregorian.getMinutes()},getMonth:function(){return this.jalali.month},getSeconds:function(){return this.gregorian.getSeconds()},getTime:function(){return this.gregorian.getTime()},getTimezone:function(){return this.gregorian.toString().cut("GMT"," ")},getTimezoneOffset:function(){return this.gregorian.getTimezoneOffset()},isLeapYear:function(){return this.jalali.year%33%4-1==parseInt(this.jalali.year%33*.05)?1:0},setDate:function(e){if(e>0&&e<=31){this.jalali.date=e;var t=jalali_to_gregorian(this.jalali.year,this.jalali.month,this.jalali.date);return this.gregorian.setFullYear(t.year,t.month,t.date),this.gregorian.getTime()}throw"Cannot parse date number"},setMonth:function(e,t){if(e>=0&&e<=11){if(this.jalali.month=e,null!=t){if(!(t>0&&t<=31))throw"Cannot parse date number";this.jalali.date=t}var r=jalali_to_gregorian(this.jalali.year,this.jalali.month,this.jalali.date);return this.gregorian.setFullYear(r.year,r.month,r.date),this.gregorian.getTime()}throw"Cannot parse month number"},setFullYear:function(e,t,r){if(e>=1e3&&e<=9999){if(this.jalali.year=e,null!=t){if(!(t>=0&&t<=11))throw"Cannot parse month number";this.jalali.month=t}if(null!=r){if(!(r>0&&r<=31))throw"Cannot parse date number";this.jalali.date=r}var n=jalali_to_gregorian(this.jalali.year,this.jalali.month,this.jalali.date);return this.gregorian.setFullYear(n.year,n.month,n.date),this.gregorian.getTime()}throw"Cannot parse year number"},setHours:function(e,t,r,n){return null!=e&&null!=t&&null!=r&&null!=n?this.gregorian.setHours(e,t,r,n):null!=e&&null!=t&&null!=r?this.gregorian.setHours(e,t,r):null!=e&&null!=t?this.gregorian.setHours(e,t):this.gregorian.setHours(e)},setMilliseconds:function(e){return this.gregorian.setMilliseconds(e)},setMinutes:function(e,t,r){return null!=e&&null!=t&&null!=r?this.gregorian.setMinutes(e,t,r):null!=e&&null!=t?this.gregorian.setMinutes(e,t):this.gregorian.setMinutes(e)},setSeconds:function(e,t){return null!=e&&null!=t?this.gregorian.setSeconds(e,t):this.gregorian.setSeconds(e)},echo:function(e){var t=this.isLeapYear(),r=this.getDay(),n=this.getShortYear(),a=this.getTimezone();return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e||"l، d F Y ساعت H:i:s").replace(/a/g,this.gregorian.getHours()<12?"ق.ظ":"ب.ظ")).replace(/b/g,parseInt((this.jalali.month+1)/3.1))).replace(/d/g,withZiro(this.jalali.date))).replace(/f/g,jalaliSeasons[parseInt((this.jalali.month+1)/3.1)].long)).replace(/g/g,this.gregorian.getHours()<=12?this.gregorian.getHours():this.gregorian.getHours()-12)).replace(/h/g,this.gregorian.getHours()<=12?withZiro(this.gregorian.getHours()):withZiro(this.gregorian.getHours()-12))).replace(/i/g,withZiro(this.gregorian.getMinutes()))).replace(/j/g,this.jalali.date)).replace(/l/g,jalaliWeeks[r].long)).replace(/m/g,withZiro(this.jalali.month+1))).replace(/n/g,this.jalali.month+1)).replace(/s/g,withZiro(this.gregorian.getSeconds()))).replace(/t/g,this.jalali.month+1!=12?31-parseInt((this.jalali.month+1)/6.5):t+29)).replace(/u/g,this.gregorian.getMilliseconds())).replace(/v/g,numToPersianStr(n))).replace(/w/g,r)).replace(/y/g,n)).replace(/A/g,this.gregorian.getHours()<12?"قبل از ظهر":"بعد از ظهر")).replace(/D/g,jalaliWeeks[r].short)).replace(/F/g,jalaliMonths[this.jalali.month].long)).replace(/G/g,this.gregorian.getHours())).replace(/H/g,withZiro(this.gregorian.getHours()))).replace(/J/g,numToPersianStr(this.jalali.date))).replace(/L/g,t)).replace(/M/g,jalaliMonths[this.jalali.month].short)).replace(/O/g,a)).replace(/V/g,numToPersianStr(this.jalali.year))).replace(/Y/g,this.jalali.year)},setJalali:function(){this.jalali=gregorian_to_jalali(this.gregorian.getFullYear(),this.gregorian.getMonth(),this.gregorian.getDate())},toString:function(){return this.echo()}},JDate.parse=function(e){e=trnumToEn(e);var t=Date.parse(e);if(Number.isNaN(t))return NaN;if(t>0)return t;var r=/^(\d|\d\d|\d\d\d\d)(?:([-\/])(\d{1,2})(?:\2(\d|\d\d|\d\d\d\d))?)?(([ T])(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d+))?)?(Z|([+-])(\d{2})(?::?(\d{2}))?)?)?$/.exec(e);if(!r)return NaN;var n=[];n.separator=r[2],n.delimiter=r[6],n.year=+r[1],n.month=+r[3]-1||0,n.date=+r[4]||1,n.hours=+r[7]||0,n.minutes=+r[8]||0,n.seconds=+r[9]||0,n.milliSeconds=1e3*+("0."+(r[10]||"0")),n.isISO="/"!=this.separator&&" "!=r[6],n.timeZone=r[11],n.isNonLocal=this.isISO&&(this.timeZone||!r[5]),n.timeZoneOffset=("-"==r[12]?-1:1)*(60*(+r[13]||0)+(+r[14]||0));var a=jalali_to_gregorian(n.year,n.month,n.date),i=new Date(a.year,a.month,a.date,n.hours,n.minutes,n.seconds,n.milliSeconds);return n.isNonLocal&&i.setUTCMinutes(i.getUTCMinutes()-i.getTimezoneOffset()+n.timeZoneOffset),i.getTime()},JDate.now=function(){Date.now()};var jalaliMonths=[{long:"فروردین",short:"فر"},{long:"اردیبهشت",short:"ار"},{long:"خرداد",short:"خر"},{long:"تیر",short:"تی‍"},{long:"مرداد",short:"مر"},{long:"شهریور",short:"شه‍"},{long:"مهر",short:"مه‍"},{long:"آبان",short:"آب‍"},{long:"آذر",short:"آذر"},{long:"دی",short:"دی"},{long:"بهمن",short:"به‍"},{long:"اسفند",short:"اس‍"}],jalaliSeasons=[{long:"بهار",short:"به‍"},{long:"تابستان",short:"تا"},{long:"پاییز",short:"پا"},{long:"زمستان",short:"زم‍"}],jalaliWeeks=[{long:"شنبه",short:"شن‍"},{long:"یکشنبه",short:"یک"},{long:"دوشنبه",short:"دو"},{long:"سه‌شنبه",short:"سه"},{long:"چهارشنبه",short:"چه‍"},{long:"پنج‌شنبه",short:"پن‍"},{long:"جمعه",short:"جم‍"}],jalaliTRWeek={0:1,1:2,2:3,3:4,4:5,5:6,6:0};function jalali_to_gregorian(e,t,r){[e,t,r]=[parseInt(trnumToEn(e)),parseInt(trnumToEn(t))+1,parseInt(trnumToEn(r))];var n=e<=979?621:1600,a=365*(e-=e<=979?0:979)+8*parseInt(e/33)+parseInt((e%33+3)/4)+78+r+(t<7?31*(t-1):30*(t-7)+186);n+=400*parseInt(a/146097),(a%=146097)>36524&&(n+=100*parseInt(--a/36524),(a%=36524)>=365&&a++),n+=4*parseInt(a/1461),a%=1461,n+=parseInt((a-1)/365),a>365&&(a=(a-1)%365);var i=a+1,o=[0,31,n%4==0&&n%100!=0||n%400==0?29:28,31,30,31,30,31,31,30,31,30,31],s=0;for(s in o){if(i<=o[s])break;i-=o[s]}return{year:n,month:parseInt(s)-1,date:i}}function gregorian_to_jalali(e,t,r){[e,t,r]=[parseInt(trnumToEn(e)),parseInt(trnumToEn(t))+1,parseInt(trnumToEn(r))];var n=e<=1600?0:979;e-=e<=1600?621:1600;var a=t>2?e+1:e,i=365*e+parseInt((a+3)/4)-parseInt((a+99)/100)+parseInt((a+399)/400)-80+r+[0,31,59,90,120,151,181,212,243,273,304,334][t-1];n+=33*parseInt(i/12053),i%=12053,n+=4*parseInt(i/1461),i%=1461,n+=parseInt((i-1)/365),i>365&&(i=(i-1)%365);var o=i<186?1+parseInt(i/31):7+parseInt((i-186)/30);return{year:n,month:--o,date:1+(i<186?i%31:(i-186)%30)}}function numToPersianStr(e,t){t=t||!1;var r=["","هزار","میلیون","میلیارد","تریلیون"];if(0==(e=parseInt(e)))return"صفر";if(e.toString().length<=3){var n="",a=e%100,i=parseInt(e/100);if(0!=i&&(n=["","یکصد","دویست","سیصد","چهارصد","پانصد","ششصد","هفتصد","هشتصد","نهصد"][i]+" و "),a>=10&&a<=19)n+=["ده","یازده","دوازده","سیزده","چهارده","پانزده","شانزده","هفده","هجده","نوزده"][a-10];else{var o=parseInt(a/10);0!=o&&(n=n+["","","بیست","سی","چهل","پنجاه","شصت","هفتاد","هشتاد","نود"][o]+" و ");var s=parseInt(a%10);0!=s&&(n=n+["صفر","یک","دو","سه","چهار","پنج","شش","هفت","هشت","نه"][s]+" و "),n=n.slice(0,n.length-3)}}else{n="";var l=chunkArray(e.toString().split(""),3);switch(l=l[l.length-1].length){case 1:l=2;break;case 2:l=1;break;default:l=0}e=e.toString().padStart(e.toString().length+l,"0");for(var g=parseInt(e.toString().length/3-1),h=null,u=0;u<=g;u++)0!=(h=parseInt(e.toString().substr(3*u,3)))&&(n=n+numToPersianStr(h)+" "+r[g-u]+" و ");n=n.slice(0,-4)}return n=n.trim(),t?1==e?"اول":3==e.toString().slice(-1)&&"ده"!=e.toString().slice(-2)?n.toString().slice(0,-1)+"وم":30==e.toString().slice(-2)?n+" ام":n+"م":n}function chunkArray(e,t){var r=0,n=e.length,a=[];for(r=0;r<n;r+=t)a.push(e.slice(r,r+t));return a}function trnumToFa(e){return"number"==typeof e&&(e=e.toString()),e.replace(/0/g,"۰").replace(/1/g,"۱").replace(/2/g,"۲").replace(/3/g,"۳").replace(/4/g,"۴").replace(/5/g,"۵").replace(/6/g,"۶").replace(/7/g,"۷").replace(/8/g,"۸").replace(/9/g,"۹")}function trnumToEn(e){return"number"==typeof e&&(e=e.toString()),e.replace(/[۰٠]/g,"0").replace(/[۱١]/g,"1").replace(/[۲٢]/g,"2").replace(/[۳٣]/g,"3").replace(/[۴٤]/g,"4").replace(/[۵٥]/g,"5").replace(/[۶٦]/g,"6").replace(/[۷٧]/g,"7").replace(/[۸٨]/g,"8").replace(/[۹٩]/g,"9")}function withZiro(e){return e<10&&(e="0"+e),e}String.prototype.cut=function(e,t,r){r=r||!1;var n=this.slice(this.toLowerCase().indexOf(e.toString().toLowerCase())).substr(e.toString().length),a=n.slice(n.toLowerCase().indexOf(t.toString().toLowerCase())).toString().length;return a=a?-a:n.toString().length,n=n.slice(0,a),r&&(n=e+n+t),n};
